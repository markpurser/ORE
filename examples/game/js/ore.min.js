this.ORE=this.ORE||{},function(){ORE.init=function(e){this._renderingCanvas=e.canvas;var n=e.tileWidthPx,t=e.tileHeightPx,r=e.mapViewWidth,i=e.mapViewHeight,a=PIXI.loader;a.add("tilesheet",e.tilesheetImage),a.load(function(a,o){function d(){e.displayStats&&ORE.updateStats(u),_.each(_.range(i),function(e){var n=I+(e+g)*h;_.each(_.range(r),function(t){var i=w[n++];R[t+e*r].texture=v[i]})}),requestAnimationFrame(d),ORE._renderer.render(p)}var u={fpsText:new PIXI.Text("",{font:"24px Arial",fill:16715792}),fpsTimer:0,currentFrameCount:0},s=o.tilesheet.texture.width/n,c=o.tilesheet.texture.height/t,h=6*r,f=6*i,l=new PIXI.Container,p=new PIXI.Container;p.addChild(l),p.addChild(u.fpsText);var I=16,g=16,m={clearBeforeRender:!0,preserveDrawingBuffer:!1,resolution:1,view:this._renderingCanvas};ORE._renderer=PIXI.autoDetectRenderer(0,0,m),ORE._renderer.backgroundColor=6750105,document.body.appendChild(ORE._renderer.view);var v=[];_.each(_.range(s),function(e){_.each(_.range(c),function(r){var i=new PIXI.Rectangle(e*n,r*t,n,t);v[e+r*s]=new PIXI.Texture(o.tilesheet.texture,i)})});var w=[];_.each(_.range(h),function(e){_.each(_.range(f),function(n){w[e+n*h]=_.random(63)})});var R=[];_.each(_.range(r),function(e){_.each(_.range(i),function(i){var a=new PIXI.Sprite(v[0]);a.position.x=e*n,a.position.y=i*t,a.width=n,a.height=t,R[e+i*r]=a,l.addChild(a)})}),requestAnimationFrame(d)})},ORE.updateStats=function(e){if(e.currentFrameCount++,0===e.fpsTimer)e.fpsTimer=(new Date).getTime();else if((new Date).getTime()-e.fpsTimer>1e3){var n="Canvas";ORE._renderer instanceof PIXI.WebGLRenderer&&(n="WebGL"),e.fpsText.text="fps: "+e.currentFrameCount+"\npixi: "+PIXI.VERSION+"\nRenderer: "+n,e.fpsTimer=(new Date).getTime(),e.currentFrameCount=0}}}();